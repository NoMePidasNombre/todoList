<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
    <link rel="icon" href="/img/hand_document_list_paper_file_icon_219510.ico">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
<h1>Lista de Tareas</h1>
<div class="search">
<form>
    <input type="text" placeholder="Agrega una tarea...">
    <button class="btn-add">+</button>
</form>
</div>
<div class="li-container">
    <ul>

    </ul>
</div>
<div class="empty">
    <p>No hay tareas pendientes</p>
</div>
    </div>
    <script>
        const input = document.querySelector('input');
const addBtn = document.querySelector('.btn-add');
const ul = document.querySelector("ul");
const empty = document.querySelector('.empty');

addBtn.addEventListener('click', (e) => {
    e.preventDefault(); //Hace que no se recargue la pagina
    
    const text = input.value;

    if (text !== ''){
        const li = document.createElement('li');
        const p = document.createElement('p');
        p.textContent = text;
    
        li.appendChild(p);
        li.appendChild(addDeleteBtn());
        ul.appendChild(li);
    
        input.value = "";
        empty.style.display = "none";
    }
});

function addDeleteBtn() {
    const deleteBtn = document.createElement('button');

    deleteBtn.textContent = "X";
    deleteBtn.className = "btn-delete";

    deleteBtn.addEventListener('click', (e) => {
       const item = e.target.parentElement;
       ul.removeChild (item); 

       const items = document.querySelectorAll('li');

       if (items.length === 0){
           empty.style.display = "block";
       }
    });
    return deleteBtn;
}
    </script>

</body>
</html>